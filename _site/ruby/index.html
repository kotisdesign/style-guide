<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ruby</title>
  <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="canonical" href="http://jayfredlund.github.io/ruby/">
  <link rel="alternate" type="application/rss+xml" title="Kotis Style Guide" href="http://jayfredlund.github.io/feed.xml" />
</head>


  <body>

    <header class="site-header">
  <div class="pure-g">
    <div class="pure-u-1">
      <h1><a class="site-title" href="/">Kotis Style Guide</a></h1>
    </div>
    <div class="pure-u-1">
      <nav class="pure-menu pure-menu-open pure-menu-horizontal">
        <ul>
          
            
            <li>
              <a href="/ruby/">Ruby</a>
            </li>
            
          
            
            <li>
              <a href="/css/">CSS</a>
            </li>
            
          
            
            <li>
              <a href="/javascript/">Javascript</a>
            </li>
            
          
            
            <li>
              <a href="/coffeescript/">CoffeeScript</a>
            </li>
            
          
            
          
            
          
            
          
        </ul>
      </nav>
    </div>
</header>
<hr>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <article class="post-content">
    <h1 id="ruby">Ruby</h1>

<h2 id="background">Background</h2>

<p>Much of the Ruby section of this style guide comes from the semi-official
<a href="https://github.com/bbatsov/ruby-style-guide">Ruby Style Guide</a>.  Not all styles
suggested in that guide are applicable, though, and this page should take priority.
<br />
<br />
Remember to be consistent and ensure readable code!</p>

<h2 id="style">Style</h2>

<ul>
  <li>Use soft tabs with a two space indent.</li>
  <li>ALWAYS remove trailing white space.</li>
  <li>End your file with an empty line.</li>
  <li>Your editor should be set to use unix-style line endings.
    <ul>
      <li>In Sublime Text, specify a setting:</li>
      <li class="codeblock">
        <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="s2">"default_line_ending"</span><span class="p">:</span> <span class="s2">"unix"</span></code></pre></div>
      </li>
    </ul>
  </li>
  <li>Prefer lines under 80 characters. Keep all lines under 100.
    <ul>
      <li>In Sublime Text, rulers are a good way of keeping track.
Specify a setting:</li>
      <li class="codeblock">
        <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="s2">"rulers"</span><span class="p">:</span> <span class="p">[</span><span class="mi">80</span><span class="p">,</span> <span class="mi">100</span><span class="p">]</span></code></pre></div>
      </li>
    </ul>
  </li>
  <li>Do not use block comments.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># bad</span>
<span class="cm">=begin
comment line
another comment line
=end</span>

<span class="c1"># good</span>
<span class="c1"># comment line</span>
<span class="c1"># another comment line</span></code></pre></div>
  </li>
  <li>Use spaces after operators, commas, semicolons, and curly braces.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">first</span><span class="p">,</span> <span class="n">second</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="p">{</span> <span class="ss">first: </span><span class="n">value</span><span class="p">,</span> <span class="ss">second: </span><span class="n">value</span> <span class="p">}</span></code></pre></div>
  </li>
  <li>Do not use spaces after brackets, parentheses, or <code>!</code>.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">length</span>
<span class="nb">method</span><span class="p">(</span><span class="n">argument</span><span class="p">).</span><span class="nf">upcase</span>
<span class="o">!</span><span class="n">space_after_bang</span></code></pre></div>
  </li>
  <li>Avoid single line methods (including empty body methods).</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># good</span>
<span class="k">def</span> <span class="nf">my_good_method</span>
  <span class="n">body</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">my_good_empty_body_method</span>
<span class="k">end</span>

<span class="c1"># bad</span>
<span class="k">def</span> <span class="nf">bad_method</span><span class="p">;</span> <span class="k">end</span></code></pre></div>
  </li>
  <li>When using <code>case</code> statements, indent <code>when</code> as deep as <code>case</code>.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">case</span> <span class="n">tracking_number</span>
<span class="k">when</span> <span class="n">begins_with</span><span class="p">(</span><span class="s1">'1Z'</span><span class="p">)</span> <span class="k">then</span> <span class="s1">'UPS'</span>
<span class="k">when</span> <span class="n">begins_with</span><span class="p">(</span><span class="s1">'5000'</span><span class="p">)</span> <span class="k">then</span> <span class="s1">'USPS'</span>
<span class="k">else</span> <span class="s1">'Unknown'</span>
<span class="k">end</span></code></pre></div>
  </li>
  <li>When assigning a conditional result to a variable, preserve alignment:</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># good</span>
<span class="n">shipping_method</span> <span class="o">=</span> <span class="k">if</span> <span class="n">shipping_speed</span> <span class="o">==</span> <span class="s1">'Express'</span>
                    <span class="s1">'UPS Next Day Air'</span>
                  <span class="k">else</span>
                    <span class="s1">'UPS Ground'</span>
                  <span class="k">end</span>

<span class="c1"># good; especially at conserving line length</span>
<span class="n">email_message</span> <span class="o">=</span>
  <span class="k">if</span> <span class="n">products_ordered?</span> <span class="o">&amp;&amp;</span> <span class="n">in_production?</span>
    <span class="s1">'your items should be completed soon'</span>
  <span class="k">else</span>
    <span class="s1">'your items will be ready in approximately 2 weeks'</span>
  <span class="k">end</span></code></pre></div>
  </li>
  <li>Use empty lines between methods and to split methods into logical paragraphs.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">first_method</span>
  <span class="n">data</span> <span class="o">=</span> <span class="kp">initialize</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>

  <span class="n">data</span><span class="p">.</span><span class="nf">manipulate!</span>

  <span class="n">data</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">second_method</span>
  <span class="n">result</span>
<span class="k">end</span></code></pre></div>
  </li>
  <li>When continuing a chained method invocation on another line keep the <code>.</code> on the second line.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># good</span>
<span class="n">one</span><span class="p">.</span><span class="nf">two</span><span class="p">.</span><span class="nf">three</span>
  <span class="p">.</span><span class="nf">four</span>

<span class="c1"># bad</span>
<span class="n">one</span><span class="p">.</span><span class="nf">two</span><span class="p">.</span><span class="nf">three</span><span class="p">.</span>
  <span class="nf">four</span></code></pre></div>
  </li>
  <li>Align the parameters of a method call if they span more than one line.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># starting point (line is too long)</span>
<span class="k">def</span> <span class="nf">send_mail</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
  <span class="no">Mailer</span><span class="p">.</span><span class="nf">deliver</span><span class="p">(</span><span class="ss">to: </span><span class="s1">'bob@example.com'</span><span class="p">,</span> <span class="ss">from: </span><span class="s1">'us@example.com'</span><span class="p">,</span> <span class="ss">subject: </span><span class="s1">'Important message'</span><span class="p">,</span> <span class="ss">body: </span><span class="n">source</span><span class="p">.</span><span class="nf">text</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># good</span>
<span class="k">def</span> <span class="nf">send_mail</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
  <span class="no">Mailer</span><span class="p">.</span><span class="nf">deliver</span><span class="p">(</span><span class="ss">to: </span><span class="s1">'bob@example.com'</span><span class="p">,</span>
                 <span class="ss">from: </span><span class="s1">'us@example.com'</span><span class="p">,</span>
                 <span class="ss">subject: </span><span class="s1">'Important message'</span><span class="p">,</span>
                 <span class="ss">body: </span><span class="n">source</span><span class="p">.</span><span class="nf">text</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># good (normal indent)</span>
<span class="k">def</span> <span class="nf">send_mail</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
  <span class="no">Mailer</span><span class="p">.</span><span class="nf">deliver</span><span class="p">(</span>
    <span class="ss">to: </span><span class="s1">'bob@example.com'</span><span class="p">,</span>
    <span class="ss">from: </span><span class="s1">'us@example.com'</span><span class="p">,</span>
    <span class="ss">subject: </span><span class="s1">'Important message'</span><span class="p">,</span>
    <span class="ss">body: </span><span class="n">source</span><span class="p">.</span><span class="nf">text</span>
  <span class="p">)</span>
<span class="k">end</span>

<span class="c1"># okay-ish (aligned params and values, hard to read with long params)</span>
<span class="k">def</span> <span class="nf">send_mail</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
  <span class="no">Mailer</span><span class="p">.</span><span class="nf">deliver</span><span class="p">(</span><span class="ss">to:      </span><span class="s1">'bob@example.com'</span><span class="p">,</span>
                 <span class="ss">from:    </span><span class="s1">'us@example.com'</span><span class="p">,</span>
                 <span class="ss">subject: </span><span class="s1">'Important message'</span><span class="p">,</span>
                 <span class="ss">body:    </span><span class="n">source</span><span class="p">.</span><span class="nf">text</span><span class="p">)</span>
<span class="k">end</span></code></pre></div>
  </li>
</ul>

<h2 id="syntax">Syntax</h2>

<ul>
  <li>Use <code>def</code> with parentheses when there are arguments. Omit the parentheses
when the method doesn’t accept any arguments.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">some_method</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span>

<span class="k">def</span> <span class="nf">some_method_with_arguments</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span></code></pre></div>
  </li>
  <li>Never use <code>for</code>, unless you know exactly why. Most of the time iterators
should be used instead. <code>for</code> is implemented in terms of <code>each</code> (so you’re
adding a level of indirection), but with a twist - <code>for</code> doesn’t introduce a
new scope (unlike <code>each</code>) and variables defined in its block will be visible
outside it.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="c1"># bad</span>
<span class="k">for</span> <span class="n">elem</span> <span class="k">in</span> <span class="n">arr</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="n">elem</span>
<span class="k">end</span>

<span class="c1"># good</span>
<span class="n">arr</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">elem</span><span class="o">|</span> <span class="nb">puts</span> <span class="n">elem</span> <span class="p">}</span></code></pre></div>
  </li>
  <li>Never use <code>then</code> for multi-line <code>if/unless</code>.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># bad</span>
<span class="k">if</span> <span class="n">some_condition</span> <span class="k">then</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span>

<span class="c1"># good</span>
<span class="k">if</span> <span class="n">some_condition</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span></code></pre></div>
  </li>
  <li>AVOID the ternary operator EXCEPT in cases where all expressions are trivial.
Favor the operator, however, over <code>if/then/else/end</code> constructs for single
line conditionals:</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># bad</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">if</span> <span class="n">some_condition</span> <span class="k">then</span> <span class="n">something</span> <span class="k">else</span> <span class="n">something_else</span> <span class="k">end</span>

<span class="c1"># good</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">some_condition</span> <span class="p">?</span> <span class="n">something</span> <span class="p">:</span> <span class="n">something_else</span></code></pre></div>
  </li>
  <li>Use one expression per branch in a ternary operator. This also means that
ternary operators MUST NOT be nested. Prefer <code>if/else</code> constructs in these
cases.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># bad</span>
<span class="n">some_condition</span> <span class="p">?</span> <span class="p">(</span><span class="n">nested_condition</span> <span class="p">?</span> <span class="n">nested_something</span> <span class="p">:</span> <span class="n">nested_something_else</span><span class="p">)</span> <span class="p">:</span> <span class="n">something_else</span>

<span class="c1"># good</span>
<span class="k">if</span> <span class="n">some_condition</span>
  <span class="n">nested_condition</span> <span class="p">?</span> <span class="n">nested_something</span> <span class="p">:</span> <span class="n">nested_something_else</span>
<span class="k">else</span>
  <span class="n">something_else</span>
<span class="k">end</span></code></pre></div>
  </li>
  <li>Avoid multi-line ternary operator. Favor <code>if/unless</code> construct.</li>
  <li>Favor <code>if/unless</code> usage when you have a single-line body.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># bad</span>
<span class="k">if</span> <span class="n">some_condition</span>
  <span class="n">do_something</span>
<span class="k">end</span>

<span class="c1"># good</span>
<span class="n">do_something</span> <span class="k">if</span> <span class="n">some_condition</span></code></pre></div>
  </li>
  <li>The <code>and</code> and <code>or</code> keywords should be avoided. Use <code>&amp;&amp;</code> and <code>||</code> instead.</li>
  <li>Never use <code>unless</code> with <code>else</code>.  Rewrite with the positive case first.</li>
  <li>Do not use parentheses around <code>if/unless/while</code> conditionals.</li>
  <li>Prefer <code>{...}</code> over <code>do..end</code> for single line blocks.  Avoid using <code>{...}</code> for
multi-line blocks.  Do not use <code>do..end</code> while chaining.  Avoid multi-line
chaining.</li>
  <li>
    <p>Avoid <code>return</code> where not required.  Take advantage of implicit return.</p>
  </li>
  <li>Use spaces around the <code>=</code> operator when assigning default values to method
parameters:</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># bad</span>
<span class="k">def</span> <span class="nf">some_method</span><span class="p">(</span><span class="n">arg1</span><span class="o">=</span><span class="ss">:default</span><span class="p">,</span> <span class="n">arg2</span><span class="o">=</span><span class="kp">nil</span><span class="p">,</span> <span class="n">arg3</span><span class="o">=</span><span class="p">[])</span>
  <span class="c1"># do something...</span>
<span class="k">end</span>

<span class="c1"># good</span>
<span class="k">def</span> <span class="nf">some_method</span><span class="p">(</span><span class="n">arg1</span> <span class="o">=</span> <span class="ss">:default</span><span class="p">,</span> <span class="n">arg2</span> <span class="o">=</span> <span class="kp">nil</span><span class="p">,</span> <span class="n">arg3</span> <span class="o">=</span> <span class="p">[])</span>
  <span class="c1"># do something...</span>
<span class="k">end</span></code></pre></div>
  </li>
  <li>Using the return value of = (an assignment) is ok.  Avoid using the return
value in the second part of a conditional:</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># bad</span>
<span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">=</span> <span class="n">array</span><span class="p">.</span><span class="nf">grep</span><span class="p">(</span><span class="sr">/foo/</span><span class="p">))</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span>

<span class="c1"># bad</span>
<span class="k">if</span> <span class="n">v</span> <span class="o">=</span> <span class="n">array</span><span class="p">.</span><span class="nf">grep</span><span class="p">(</span><span class="sr">/foo/</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">v</span><span class="p">.</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span>

<span class="c1"># good</span>
<span class="k">if</span> <span class="n">v</span> <span class="o">=</span> <span class="n">array</span><span class="p">.</span><span class="nf">grep</span><span class="p">(</span><span class="sr">/foo/</span><span class="p">)</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span>

<span class="c1"># good</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">array</span><span class="p">.</span><span class="nf">grep</span><span class="p">(</span><span class="sr">/foo/</span><span class="p">)</span>
<span class="k">if</span> <span class="n">v</span> <span class="o">&amp;&amp;</span> <span class="n">v</span><span class="p">.</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span>

<span class="c1"># also good - has correct precedence.</span>
<span class="k">if</span> <span class="p">(</span><span class="n">v</span> <span class="o">=</span> <span class="n">next_value</span><span class="p">)</span> <span class="o">==</span> <span class="s2">"hello"</span> <span class="p">.</span><span class="nf">.</span><span class="o">.</span></code></pre></div>
  </li>
  <li>Use <code>||=</code> freely to initialize variables.</li>
  <li>Never use <code>||=</code> to set boolean values. (Think about what happens when the first
value is falsey?)</li>
  <li>Never put a space between a method and it’s opening parentheses.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># bad</span>
<span class="n">f</span> <span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

<span class="c1"># good</span>
<span class="n">f</span><span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span></code></pre></div>
  </li>
  <li>Following the rule above, if the first argument begins with an open
parentheses, always use parentheses in the method invocation.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">f</span><span class="p">((</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span></code></pre></div>
  </li>
  <li>
    <p>Use the new lambda literal syntax (<code>-&gt;</code>) for single line body blocks.
Use the <code>lambda</code> method for multi-line blocks.</p>
  </li>
  <li>Prefer <code>==</code> over <code>eql?</code>.  The stricter comparison is usually not needed.
    <ul>
      <li>(We use <code>eql?</code> sporadically, but should work to remove them.)</li>
    </ul>
  </li>
  <li>Use guard clauses when you can assert invalid data.  Bail out of the function
as soon as possible.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">my_method</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
  <span class="k">return</span> <span class="k">unless</span> <span class="n">argument</span>
  <span class="n">do_something_with</span><span class="p">(</span><span class="n">argument</span><span class="p">)</span>
<span class="k">end</span></code></pre></div>
  </li>
  <li>Use <code>_</code> for unused block parameters.</li>
  <li>Use <code>is_a?</code> or <code>kind_of?</code> instead of <code>===</code> to check types.  <code>===</code> is <strong>not</strong>
an equality operator (<a href="http://stackoverflow.com/questions/4467538/what-does-the-operator-do-in-ruby">read the first response here</a>).
    <ul>
      <li>If you find yourself checking types, you should ask yourself if that’s even
the right approach to solve the problem.</li>
    </ul>
  </li>
</ul>

<h2 id="naming">Naming</h2>

<ul>
  <li>Use <code>snake_case</code> for symbols, methods, and variables.</li>
  <li>Use <code>CamelCase</code> for classes and modules.</li>
  <li>Use <code>SCREAMING_SNAKE_CASE</code> for constants.</li>
  <li>Methods that return a boolean value should end in a question mark.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">complete?</span>
  <span class="n">art_approved</span> <span class="o">&amp;&amp;</span> <span class="n">quantities_submitted</span>
<span class="k">end</span></code></pre></div>
  </li>
  <li>Potentially dangerous methods (ones that modify <code>self</code> or arguments) should
end in an exclamation mark.  Bang methods should only exist if there’s a
safe version available.</li>
</ul>

<h2 id="classesmodules">Classes/Modules</h2>

<ul>
  <li>
    <p>Prefer modules to classes with only class methods.  Classes should be used
only when it makes sense to create instances out of them.</p>
  </li>
  <li>
    <p>Use <code>def self.method</code> to define singletons.</p>
  </li>
  <li>Indent the <code>public</code>, <code>protected</code>, and <code>private</code> methods as much the method
definitions they apply to. Leave one blank line above them.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">SomeClass</span>
  <span class="k">def</span> <span class="nf">public_method</span>
    <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
  <span class="nf">end</span>

  <span class="kp">private</span>
  <span class="k">def</span> <span class="nf">private_method</span>
    <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
  <span class="nf">end</span>
<span class="k">end</span></code></pre></div>
  </li>
</ul>

<h2 id="exceptions">Exceptions</h2>

<ul>
  <li>Do not use exceptions for flow control.</li>
  <li>Avoid rescuing the <code>Exception</code> class. Be specific.</li>
  <li>When rescuing exceptions, notify Airbrake using <code>Airbrake.notify</code>.</li>
</ul>

<h2 id="collections">Collections</h2>

<ul>
  <li>Prefer <code>%w</code> over literal array syntax when needing an array of strings.</li>
  <li>Prefer symbols over strings as hash keys.</li>
  <li>Prefer Ruby 1.9 hash syntax, where possible.  When keys are NOT symbols, use
hash-rocket syntax.</li>
</ul>

<h2 id="strings">Strings</h2>

<ul>
  <li>Prefer string interpolation over concatenation.</li>
  <li>Do not pad string interpolation code.</li>
  <li>Prefer double-quoted strings, unless your string contains a quotation mark or
escape characters that you want to suppress.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># bad</span>
<span class="nb">name</span> <span class="o">=</span> <span class="s1">'Kotis'</span>

<span class="c1"># good</span>
<span class="nb">name</span> <span class="o">=</span> <span class="s2">"Kotis"</span>
<span class="n">comment</span> <span class="o">=</span> <span class="s1">'Daniel said, "Go Kotis!"'</span></code></pre></div>
  </li>
</ul>

<h2 id="regular-expressions">Regular Expressions</h2>

<ul>
  <li>Be careful with <code>^</code> and <code>$</code> as they match start/end of line, not string
endings. If you want to match the whole string use: <code>\A</code> and <code>\z</code>.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">string</span> <span class="o">=</span> <span class="s2">"some injection</span><span class="se">\n</span><span class="s2">username"</span>
<span class="n">string</span><span class="p">[</span><span class="sr">/^username$/</span><span class="p">]</span>   <span class="c1"># matches</span>
<span class="n">string</span><span class="p">[</span><span class="sr">/\Ausername\z/</span><span class="p">]</span> <span class="c1"># doesn't match</span></code></pre></div>
  </li>
</ul>

<h2 id="keyword-arguments">Keyword Arguments</h2>

<ul>
  <li>Prefer keyword arguments over “options-hash-as-arguments” style.</li>
  <li>Prefer keyword arguments when a method’s arguments are non-obvious when called:</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># instead of this</span>
<span class="k">def</span> <span class="nf">submit_order</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">employee</span> <span class="o">=</span> <span class="kp">false</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span>

<span class="n">submit_order</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="kp">true</span><span class="p">)</span> <span class="c1"># what does true mean?</span>

<span class="c1"># do this</span>
<span class="k">def</span> <span class="nf">submit_order</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="ss">employee: </span><span class="kp">false</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span>

<span class="n">submit_order</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="ss">employee: </span><span class="kp">true</span><span class="p">)</span></code></pre></div>
  </li>
</ul>

<h2 id="testing">Testing</h2>

<p>Use RSpec, capybara-webkit, FactoryGirl, and fuubar rspec formatter in your
applications.</p>

<ul>
  <li>Prefer lazy-loading objects with objects that can be shared between tests.</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">let</span><span class="p">(</span><span class="ss">:ups_params</span><span class="p">)</span> <span class="k">do</span>
  <span class="p">{</span> <span class="ss">origin_zip: </span><span class="s2">"98103"</span><span class="p">,</span> <span class="ss">weight: </span><span class="s2">"5"</span><span class="p">,</span> <span class="ss">shipping_method: </span><span class="s2">"UPS Ground"</span> <span class="p">}</span>
<span class="k">end</span>

<span class="n">let</span><span class="p">(</span><span class="ss">:estore</span><span class="p">)</span> <span class="p">{</span> <span class="no">FactoryGirl</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:estore</span><span class="p">)</span> <span class="p">}</span></code></pre></div>
  </li>
  <li>Break tests into contexts, and use whitespace to separate <code>it</code>, <code>let</code>, and
<code>before</code> statements.  Whitespace should also be used to break spec files into
readable sections.
    <ul>
      <li>Use your own discretion.  Just make it readable!</li>
    </ul>
  </li>
</ul>

<h2 id="miscellaneous">Miscellaneous</h2>

<ul>
  <li>Default Sublime Text Settings:</li>
  <li class="codeblock">
    <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="s2">"default_line_ending"</span><span class="p">:</span> <span class="s2">"unix"</span><span class="p">,</span>
<span class="s2">"rulers"</span><span class="p">:</span>
<span class="p">[</span>
  <span class="mi">80</span><span class="p">,</span>
  <span class="mi">100</span>
<span class="p">],</span>
<span class="s2">"tab_size"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="s2">"translate_tabs_to_spaces"</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
<span class="s2">"trim_trailing_white_space_on_save"</span><span class="p">:</span> <span class="kp">true</span></code></pre></div>
  </li>
</ul>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

</footer>


  </body>

</html>
